(this.webpackJsonpcommandhelperfrontend=this.webpackJsonpcommandhelperfrontend||[]).push([[0],{11:function(e,t){e.exports={verifyEmail:function(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(e)},verifyPass:function(e){return/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/.test(e)}}},31:function(e,t,n){},44:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(0),c=n.n(s),r=n(17),o=n.n(r),i=(n(31),n(18)),l=n(2),u=n(4),d=n.n(u),m=n(8),j=n(12),p=n(13),b=n.n(p);n(44);var f="https://command-helper-api.herokuapp.com/",x=n(11),h=function(){var e=Object(m.a)(d.a.mark((function e(t,n,a,s,c){var r,o,i,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(x.verifyEmail)(t),o=Object(x.verifyPass)(n),r||a("E-Mail is not valid"),o||s("Password is not valid"),!r||!o){e.next=16;break}return e.next=7,fetch("".concat(f,"/login"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,pass:n})});case 7:return i=e.sent,e.next=10,i.json();case 10:if(void 0===(l=e.sent).error){e.next=14;break}return"no_existing_email"===l.error?c("E-Mail does not exist"):"wrong_pass"===l.error?c("Wrong Password"):c("Undefined Error"),e.abrupt("return",!1);case 14:if("success"!==l.status){e.next=16;break}return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(d.a.mark((function e(t,n,a,s,c,r){var o,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Object(x.verifyEmail)(t),i=Object(x.verifyPass)(n),o||s("E-Mail is not valid"),i||c("Password is not valid"),n!==a&&c("Passwords do not match"),!o||!i){e.next=17;break}return e.next=8,fetch("".concat(f,"/createuser"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,pass:n})});case 8:return l=e.sent,e.next=11,l.json();case 11:if(void 0===(u=e.sent).error){e.next=15;break}return"non_unique_email"===u.error?r("E-Mail in use\nPlease sign in"):r("Undefined Error"),e.abrupt("return",!1);case 15:if("success"!==u.status){e.next=17;break}return e.abrupt("return",!0);case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,s,c,r){return e.apply(this,arguments)}}(),v=function(){b.a.setAppElement("body");var e=Object(s.useState)(!1),t=Object(j.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(j.a)(r,2),i=o[0],u=o[1],p=Object(s.useState)(""),f=Object(j.a)(p,2),x=f[0],v=f[1],g=Object(s.useState)(""),y=Object(j.a)(g,2),E=y[0],N=y[1],w=Object(s.useState)(""),k=Object(j.a)(w,2),P=k[0],B=k[1],S=Object(l.f)(),U=function(){var e=Object(m.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,h(document.getElementById("loginEmail").value,document.getElementById("loginPass").value,v,N,B);case 3:t=e.sent,console.log("VALUE OF loginSuccess is",t),!0===t&&(console.log("Should be pushing a new route"),S.push("/home"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){document.getElementById(e).type="password"},I=function(){v(""),N(""),B("")};return Object(a.jsxs)("div",{className:"Landing",children:[Object(a.jsx)("div",{className:"title",children:"Command Helper"}),Object(a.jsxs)("div",{className:"accountButtons",children:[Object(a.jsx)("button",{id:"loginButton",onClick:function(){c(!0)},children:"Login"}),Object(a.jsx)("button",{id:"signUpButton",onClick:function(){u(!0)},children:"Sign Up"})]}),Object(a.jsxs)(b.a,{className:"accountModals",isOpen:n,onRequestClose:function(){c(!1),I()},children:[Object(a.jsx)("div",{className:"modalTitle",children:"Login"}),Object(a.jsx)("input",{type:"text",placeholder:"E-Mail",id:"loginEmail",className:"modalInput"}),Object(a.jsx)("div",{className:"modalErrors",children:x}),Object(a.jsx)("input",{type:"text",placeholder:"Password",id:"loginPass",onFocus:function(){C("loginPass")},className:"modalInput"}),Object(a.jsx)("div",{className:"modalErrors",children:E}),Object(a.jsx)("div",{className:"modalErrors",children:P}),Object(a.jsx)("button",{className:"modalButton",onClick:Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:case"end":return e.stop()}}),e)}))),children:"Login"}),Object(a.jsx)("div",{className:"modalBottomText",children:"Don't have an account?"}),Object(a.jsx)("button",{className:"modalButton",onClick:function(){I(),c(!1),u(!0)},children:"Sign Up"})]}),Object(a.jsxs)(b.a,{className:"accountModals",isOpen:i,onRequestClose:function(){I(),u(!1)},children:[Object(a.jsx)("div",{className:"modalTitle",children:"Sign Up"}),Object(a.jsx)("input",{type:"text",placeholder:"E-Mail",id:"signUpEmail",className:"modalInput"}),Object(a.jsx)("div",{className:"modalErrors",children:x}),Object(a.jsx)("input",{type:"text",placeholder:"Password",id:"signUpPass",onFocus:function(){C("signUpPass")},className:"modalInput"}),Object(a.jsx)("input",{type:"text",placeholder:"Confirm Password",id:"signUpConfirm",onFocus:function(){C("signUpConfirm")},className:"modalInput"}),Object(a.jsx)("div",{className:"modalErrors",children:E}),Object(a.jsx)("div",{className:"modalErrors",children:P}),Object(a.jsx)("button",{className:"modalButton",onClick:Object(m.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(),void O(document.getElementById("signUpEmail").value,document.getElementById("signUpPass").value,document.getElementById("signUpConfirm").value,v,N,B);case 2:case"end":return e.stop()}}),e)}))),children:"Sign Up"}),Object(a.jsx)("div",{className:"modalBottomText",children:"Already have an account?"}),Object(a.jsx)("button",{className:"modalButton",onClick:function(){I(),u(!1),c(!0)},children:"Login"})]})]})},g=function(){return Object(a.jsx)("div",{className:"Home",children:"Home Page"})};var y=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(i.a,{children:Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(v,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/home",children:Object(a.jsx)(g,{})})]})})})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.1871d9a2.chunk.js.map